local player = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local HttpService = game:GetService("HttpService")

-- Config
local configPath = "LaudyaaaConfig_"..player.UserId..".json"
local toggles = {
    autoFishWasOn = false,
    autoSellWasOn = false,
    autoClickerWasOn = false,
    fpsBoostWasOn = false,
}

if readfile and isfile and isfile(configPath) then
    local ok, data = pcall(function() return HttpService:JSONDecode(readfile(configPath)) end)
    if ok and typeof(data)=="table" then for k,v in pairs(data) do toggles[k]=v end end
end

local function saveToggles() if writefile then writefile(configPath,HttpService:JSONEncode(toggles)) end end

local autoSellRunning = false
local autoClickerRunning = false
local fpsBoostEnabled = false
local clickerDelay = 0.02 -- Awal responsif & bisa diupdate slider (min 1/60 fps)
local activeIsland = nil
local settingClickPosition = false
local activeTeleportToggle = nil

local gui, clickIndicator, autoClickerToggle, closeBtn
local islands = {
    { Name = "Esoteric Depths", Position = Vector3.new(3201.89, -1302.85, 1433.71), LookAt = Vector3.new(3300, -1300, 400) },
    { Name = "Treasure Room", Position = Vector3.new(-3611.89, -279.07, -1589.51), LookAt = Vector3.new(-3619.21, -286.53, -1602.57) },
    { Name = "Lost Isle", Position = Vector3.new(-3738.2, -135.1, -1011.9), LookAt = Vector3.new(-3600, -135, -1200) },
}

-- Fitur, loader, dan fast auto clicker di bawah ini:
local function getFishCount()
    local count = 0
    pcall(function()
        for _, gui in pairs(player.PlayerGui:GetDescendants()) do
            if (gui:IsA("TextLabel") or gui:IsA("TextButton")) and gui.Visible then
                local currentFish = gui.Text:match("(%d+)/")
                if currentFish then
                    local fishNum = tonumber(currentFish)
                    if fishNum and fishNum > count then count = fishNum end
                end
            end
        end
    end)
    return count
end

local function sellAllFish()
    pcall(function()
        local net = replicatedStorage:FindFirstChild("Packages")
        if not net then return end
        local idx = net:FindFirstChild("_Index")
        if not idx then return end
        local sleitnick = idx:FindFirstChild("sleitnick_net@0.2.0")
        if not sleitnick then return end
        local netFolder = sleitnick:FindFirstChild("net")
        if not netFolder then return end
        for _, remote in ipairs(netFolder:GetDescendants()) do
            if remote:IsA("RemoteFunction") or remote:IsA("RemoteEvent") then
                local name = remote.Name:lower()
                if name:find("sell") and not name:find("buy") then
                    pcall(function()
                        if remote:IsA("RemoteFunction") then remote:InvokeServer() else remote:FireServer() end
                    end)
                    task.wait(0.5)
                end
            end
        end
    end)
end

local function autoSellLoop()
    task.spawn(function()
        while autoSellRunning do
            task.wait(15)
            local fishCount = getFishCount()
            if fishCount >= 500 then
                sellAllFish()
                task.wait(3)
            end
        end
    end)
end

-- Cek rod dan auto toggle map
local function isAutoFishEnabled()
    local hasAutoFish = false
    pcall(function()
        for _, gui in pairs(player.PlayerGui:GetDescendants()) do
            if gui:IsA("TextButton") and gui.Visible then
                local text = gui.Text:lower()
                if text:find("auto") and text:find("fish") then
                    local col = gui.BackgroundColor3
                    if (col.r > 0.2 and col.g > 0.5) or col == Color3.fromRGB(0,162,255) then
                        hasAutoFish = true
                        break
                    end
                end
            end
        end
    end)
    return hasAutoFish
end

local function enableAutoFish()
    task.spawn(function()
        local char = player.Character
        if not char then return end
        local hasRod = false
        for _, tool in pairs(char:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower():find("rod") then hasRod = true break end
        end
        if not hasRod then
            for _, tool in pairs(player.Backpack:GetChildren()) do
                if tool:IsA("Tool") and tool.Name:lower():find("rod") then
                    char.Humanoid:EquipTool(tool)
                    hasRod = true
                    break
                end
            end
        end
        if not hasRod then game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.One, false, game) task.wait(0.5) end
        if isAutoFishEnabled() then return end
        task.wait(0.4)
        local net = replicatedStorage:FindFirstChild("Packages")
        if net then
            local idx = net:FindFirstChild("_Index")
            if idx then
                local sleitnick = idx:FindFirstChild("sleitnick_net@0.2.0")
                if sleitnick then
                    local netFolder = sleitnick:FindFirstChild("net")
                    if netFolder then
                        local rfFolder = netFolder:FindFirstChild("RF/UpdateAutoFishingState")
                        if rfFolder and rfFolder:IsA("RemoteFunction") then
                            pcall(function() rfFolder:InvokeServer(true) end)
                        end
                    end
                end
            end
        end
    end)
end

local function enableFPSBoost()
    Lighting.GlobalShadows = false
    Lighting.Brightness = 2
    Lighting.OutdoorAmbient = Color3.fromRGB(200, 200, 200)
    Lighting.Technology = Enum.Technology.Compatibility
    Lighting.FogEnd = 100
    Lighting.FogStart = 0
    for _, effect in ipairs(Lighting:GetChildren()) do
        pcall(function()
            if effect:IsA("PostEffect") or effect:IsA("BloomEffect") or effect:IsA("BlurEffect")
            or effect:IsA("ColorCorrectionEffect") or effect:IsA("SunRaysEffect")
            or effect:IsA("DepthOfFieldEffect") then
                effect.Enabled = false
            elseif effect:IsA("Atmosphere") or effect:IsA("Sky") then
                effect:Destroy()
            end
        end)
    end
    task.spawn(function()
        for _, obj in pairs(workspace:GetDescendants()) do
            pcall(function()
                if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke")
                or obj:IsA("Fire") or obj:IsA("Sparkles") or obj:IsA("PointLight")
                or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") then
                    obj.Enabled = false
                elseif obj:IsA("BasePart") then
                    obj.CastShadow = false obj.Material = Enum.Material.SmoothPlastic obj.Reflectance = 0
                elseif obj:IsA("Decal") or obj:IsA("Texture") then
                    obj.Transparency = 1
                elseif obj:IsA("MeshPart") then
                    obj.RenderFidelity = Enum.RenderFidelity.Performance obj.Material = Enum.Material.SmoothPlastic obj.CastShadow = false
                end
            end)
        end
    end)
    pcall(function()
        workspace.Terrain.WaterTransparency = 1
        workspace.Terrain.WaterReflectance = 0
        workspace.Terrain.WaterWaveSize = 0
        workspace.Terrain.WaterWaveSpeed = 0
    end)
end

local function disableFPSBoost()
    Lighting.GlobalShadows = true
    Lighting.Brightness = 3
    Lighting.OutdoorAmbient = Color3.new(0.5, 0.5, 0.5)
    Lighting.Technology = Enum.Technology.ShadowMap
    Lighting.FogEnd = 100000
    Lighting.FogStart = 0
end

local function teleportAndFace()
    local char = player.Character
    if not (char and char:FindFirstChild("HumanoidRootPart") and activeIsland) then return end
    local hrp = char.HumanoidRootPart
    hrp.CFrame = CFrame.new(activeIsland.Position + Vector3.new(0,5,0))
    task.wait(0.3)
    local waterPart, shortestDist = nil, math.huge
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name:lower():find("water") then
            local dist = (obj.Position - hrp.Position).Magnitude
            if dist < shortestDist and dist < 300 then
                shortestDist = dist waterPart = obj
            end
        end
    end
    if waterPart then
        hrp.CFrame = CFrame.lookAt(hrp.Position, waterPart.Position)
    else
        hrp.CFrame = CFrame.lookAt(hrp.Position, activeIsland.LookAt)
    end
end

local function isMouseOverGui()
    if not gui then return false end
    local mousePos = UserInputService:GetMouseLocation()
    local guiObjects = player.PlayerGui:GetGuiObjectsAtPosition(mousePos.X, mousePos.Y)
    for _, obj in ipairs(guiObjects) do
        if obj:IsDescendantOf(gui) then return true end
    end
    return false
end

-- AUTO CLICKER MOBILE, MURNI AMBIL TENGAH LINGKARAN!
local function stopAutoClicker()
    autoClickerRunning = false
    if clickIndicator then clickIndicator.Visible = false end
end

local function autoClickerLoop()
    task.spawn(function()
        while autoClickerRunning do
            pcall(function()
                if clickIndicator and clickIndicator.Visible and not isMouseOverGui() then
                    local abs = clickIndicator.AbsolutePosition
                    local cenX = abs.X + clickIndicator.AbsoluteSize.X/2
                    local cenY = abs.Y + clickIndicator.AbsoluteSize.Y/2
                    game:GetService("VirtualInputManager"):SendMouseButtonEvent(cenX, cenY, 0, true, game, 0)
                    task.wait(0.008)
                    game:GetService("VirtualInputManager"):SendMouseButtonEvent(cenX, cenY, 0, false, game, 0)
                end
            end)
            task.wait(clickerDelay)
        end
    end)
end

local function createClickIndicator(parent)
    local indicator = Instance.new("TextButton", parent)
    indicator.Size = UDim2.new(0,56,0,56)
    indicator.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
    indicator.BackgroundTransparency = 0.1
    indicator.BorderSizePixel = 0
    indicator.Visible = false
    indicator.ZIndex = 900
    indicator.Text = ""
    indicator.AutoButtonColor = false
    Instance.new("UICorner", indicator).CornerRadius = UDim.new(1,0)

    local innerCircle = Instance.new("Frame", indicator)
    innerCircle.Size = UDim2.new(0, 18, 0, 18)
    innerCircle.Position = UDim2.new(0.5, -9, 0.5, -9)
    innerCircle.BackgroundColor3 = Color3.fromRGB(255,255,255)
    innerCircle.BorderSizePixel = 0
    Instance.new("UICorner", innerCircle).CornerRadius = UDim.new(1,0)

    local stopLabel = Instance.new("TextLabel", indicator)
    stopLabel.Size = UDim2.new(1,0,0,16)
    stopLabel.Position = UDim2.new(0,0,1,2)
    stopLabel.Text = "Tap to Stop"
    stopLabel.TextColor3 = Color3.fromRGB(255,255,255)
    stopLabel.Font = Enum.Font.GothamBold
    stopLabel.TextSize = 12
    stopLabel.BackgroundTransparency = 1
    indicator.MouseButton1Click:Connect(function() stopAutoClicker() end)
    return indicator
end

local function createCategoryHeader(parent, text)
    local header = Instance.new("TextLabel", parent)
    header.Size = UDim2.new(1, -16, 0, 18)
    header.Text = text
    header.TextColor3 = Color3.fromRGB(180, 190, 255)
    header.Font = Enum.Font.GothamBold
    header.TextSize = 12
    header.BackgroundTransparency = 1
    header.TextXAlignment = Enum.TextXAlignment.Left
    return header
end

local function createModernToggle(parent, labelText, toggleKey, onToggleCallback)
    local holder = Instance.new("TextButton", parent)
    holder.Size = UDim2.new(1, -16, 0, 24)
    holder.BackgroundColor3 = Color3.fromRGB(32, 36, 55)
    holder.BackgroundTransparency = 0.13
    holder.BorderSizePixel = 0
    holder.Text = ""
    holder.AutoButtonColor = false
    Instance.new("UICorner", holder).CornerRadius = UDim.new(0, 6)

    local label = Instance.new("TextLabel", holder)
    label.Size = UDim2.new(1, -32, 1, 0)
    label.Position = UDim2.new(0, 12, 0, 0)
    label.Text = labelText
    label.TextColor3 = Color3.fromRGB(225, 235, 250)
    label.Font = Enum.Font.Gotham
    label.TextSize = 11
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left

    local sliderBg = Instance.new("Frame", holder)
    sliderBg.Size = UDim2.new(0, 28, 0, 16)
    sliderBg.Position = UDim2.new(1, -36, 0.5, -8)
    sliderBg.BackgroundColor3 = Color3.fromRGB(90, 90, 110)
    sliderBg.BorderSizePixel = 0
    sliderBg.ZIndex = 2
    Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)

    local knob = Instance.new("Frame", sliderBg)
    knob.Size = UDim2.new(0, 12, 0, 12)
    knob.Position = UDim2.new(0, 2, 0.5, -6)
    knob.BackgroundColor3 = Color3.fromRGB(240, 240, 245)
    knob.BorderSizePixel = 0
    knob.ZIndex = 3
    Instance.new("UICorner", knob).CornerRadius = UDim.new(1,0)

    local isOn = toggles[toggleKey]
    local function setVisual(state)
        if state then
            TweenService:Create(sliderBg, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(85, 140, 255)}):Play()
            TweenService:Create(knob, TweenInfo.new(0.2), {Position = UDim2.new(1, -14, 0.5, -6)}):Play()
        else
            TweenService:Create(sliderBg, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(90, 90, 110)}):Play()
            TweenService:Create(knob, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, -6)}):Play()
        end
    end
    holder.MouseButton1Click:Connect(function()
        isOn = not isOn
        toggles[toggleKey] = isOn
        saveToggles()
        setVisual(isOn)
        if onToggleCallback then onToggleCallback(isOn, holder) end
    end)
    setVisual(isOn)
    if onToggleCallback then onToggleCallback(isOn, holder) end
    return holder
end

-- Button/slider function juga sama seperti di atas, cukup atur style padding dan transparent

local function buildUI()
    if gui then return end
    gui = Instance.new("ScreenGui", player.PlayerGui)
    gui.Name = "LaudyaaaGui"
    gui.ResetOnSpawn = false

    local vps = workspace.CurrentCamera.ViewportSize
    local scrW, scrH = vps.X, vps.Y
    local targetW = math.clamp(math.floor(scrW * 0.7), 340, 540)
    local targetH = math.clamp(math.floor(scrH * 0.49), 260, 420)

    local mainFrame = Instance.new("Frame", gui)
    mainFrame.Size = UDim2.new(0, targetW, 0, targetH)
    mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 22, 28)
    mainFrame.BorderSizePixel = 0
    Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 14)

    local mainStroke = Instance.new("UIStroke", mainFrame)
    mainStroke.Color = Color3.fromRGB(60, 60, 75)
    mainStroke.Thickness = 2

    local titleLabel = Instance.new("TextLabel", mainFrame)
    titleLabel.Size = UDim2.new(1, -54, 0, 34)
    titleLabel.Position = UDim2.new(0, 14, 0, 6)
    titleLabel.Text = "ðŸ¦‹ Laudyaaa"
    titleLabel.TextColor3 = Color3.fromRGB(180, 190, 255)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextSize = 18
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left

    closeBtn = Instance.new("TextButton", mainFrame)
    closeBtn.Size = UDim2.new(0, 32, 0, 32)
    closeBtn.Position = UDim2.new(1, -40, 0, 10)
    closeBtn.Text = "âœ•"
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 16
    closeBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    closeBtn.TextColor3 = Color3.fromRGB(220, 220, 230)
    closeBtn.ZIndex = 999
    closeBtn.Active = true
    Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 8)
    closeBtn.MouseButton1Click:Connect(function() mainFrame.Visible = false end)

    local sidebarW = math.floor(targetW * 0.22)
    local sidebar = Instance.new("Frame", mainFrame)
    sidebar.Size = UDim2.new(0, sidebarW, 1, -66)
    sidebar.Position = UDim2.new(0, 12, 0, 50)
    sidebar.BackgroundColor3 = Color3.fromRGB(16, 18, 24)
    sidebar.BackgroundTransparency = 0.12
    sidebar.BorderSizePixel = 0
    Instance.new("UICorner",sidebar).CornerRadius = UDim.new(0, 8)

    local function createTabBtn(text, y)
        local btn = Instance.new("TextButton", sidebar)
        btn.Size = UDim2.new(1, -10, 0, 24)
        btn.Position = UDim2.new(0, 4, 0, y)
        btn.BackgroundTransparency = 1
        btn.Text = text
        btn.TextColor3 = Color3.fromRGB(210, 215, 230)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 13
        btn.AutoButtonColor = false
        btn.TextXAlignment = Enum.TextXAlignment.Left
        return btn
    end

    local infoBtn = createTabBtn("Information", 10)
    local featuresBtn = createTabBtn("Features", 42)
    local teleportBtn = createTabBtn("Teleport", 74)

    local contentW = targetW - sidebarW - 32
    local contentH = targetH - 60
    local contentContainer = Instance.new("Frame", mainFrame)
    contentContainer.Size = UDim2.new(0, contentW, 0, contentH)
    contentContainer.Position = UDim2.new(0, sidebarW + 26, 0, 46)
    contentContainer.BackgroundTransparency = 1

    local infoPage = Instance.new("Frame", contentContainer)
    infoPage.Name = "InfoPage"
    infoPage.Size = UDim2.new(1, 0, 1, 0)
    infoPage.BackgroundTransparency = 1
    infoPage.Visible = true

    local infoText = Instance.new("TextLabel", infoPage)
    infoText.Size = UDim2.new(1, -14, 1, -18)
    infoText.Position = UDim2.new(0, 6, 0, 7)
    infoText.BackgroundTransparency = 1
    infoText.TextWrapped = true
    infoText.TextColor3 = Color3.fromRGB(220, 220, 240)
    infoText.Font = Enum.Font.GothamBold
    infoText.TextSize = 14
    infoText.Text = "Script by Einhard and made with luv"
    infoText.TextXAlignment = Enum.TextXAlignment.Center
    infoText.TextYAlignment = Enum.TextYAlignment.Center

    local featuresPage = Instance.new("ScrollingFrame", contentContainer)
    featuresPage.Name = "FeaturesPage"
    featuresPage.Size = UDim2.new(1, 0, 1, 0)
    featuresPage.BackgroundTransparency = 1
    featuresPage.ScrollBarThickness = 4
    featuresPage.Visible = false

    local fLayout = Instance.new("UIListLayout", featuresPage)
    fLayout.SortOrder = Enum.SortOrder.LayoutOrder
    fLayout.Padding = UDim.new(0, 10)

    local teleportPage = Instance.new("ScrollingFrame", contentContainer)
    teleportPage.Name = "TeleportPage"
    teleportPage.Size = UDim2.new(1, 0, 1, 0)
    teleportPage.BackgroundTransparency = 1
    teleportPage.ScrollBarThickness = 4
    teleportPage.Visible = false

    local tLayout = Instance.new("UIListLayout", teleportPage)
    tLayout.SortOrder = Enum.SortOrder.LayoutOrder
    tLayout.Padding = UDim.new(0, 10)

    local function showPage(page)
        infoPage.Visible = false
        featuresPage.Visible = false
        teleportPage.Visible = false
        page.Visible = true
    end

    infoBtn.MouseButton1Click:Connect(function() showPage(infoPage) end)
    featuresBtn.MouseButton1Click:Connect(function() showPage(featuresPage) end)
    teleportBtn.MouseButton1Click:Connect(function() showPage(teleportPage) end)

    clickIndicator = createClickIndicator(gui)

    createCategoryHeader(featuresPage, "FISHING")
    createModernToggle(featuresPage, "Auto Fish", "autoFishWasOn", function(isOn)
        if isOn then enableAutoFish() end
        toggles.autoFishWasOn = isOn; saveToggles()
    end)
    createModernToggle(featuresPage, "Auto Sell (500 fish)", "autoSellWasOn", function(isOn)
        autoSellRunning = isOn; if isOn then autoSellLoop() end
        toggles.autoSellWasOn = isOn; saveToggles()
    end)
    createCategoryHeader(featuresPage, "AUTO CLICKER")
    createSlider(featuresPage, "Click Speed", 1, 60, 50, function(value)
        clickerDelay = math.max(1/value, 0.008)
    end)
    createButton(featuresPage, "Set Click Position", function()
        settingClickPosition = true
        local connection
        connection = UserInputService.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                local pos = UserInputService:GetMouseLocation()
                clickIndicator.Position = UDim2.new(0, pos.X - clickIndicator.AbsoluteSize.X/2, 0, pos.Y - clickIndicator.AbsoluteSize.Y/2)
                clickIndicator.Visible = true
                settingClickPosition = false
                connection:Disconnect()
            end
        end)
    end)
    autoClickerToggle = createModernToggle(featuresPage, "Enable Auto Clicker", "autoClickerWasOn", function(isOn)
        autoClickerRunning = isOn
        if isOn then autoClickerLoop() else stopAutoClicker() end
        if isOn and clickIndicator.Position ~= nil then clickIndicator.Visible = true end
        toggles.autoClickerWasOn = isOn; saveToggles()
    end)
    createCategoryHeader(featuresPage, "PERFORMANCE")
    createModernToggle(featuresPage, "FPS Boost", "fpsBoostWasOn", function(isOn)
        if isOn then enableFPSBoost() else disableFPSBoost() end
        toggles.fpsBoostWasOn = isOn; saveToggles()
    end)

    -- Teleport toggles hanya satu aktif
    for i, island in ipairs(islands) do
        local toggle = createModernToggle(teleportPage, island.Name, "tele"..i, function(isOn, clickedToggle)
            if isOn then
                if activeTeleportToggle and activeTeleportToggle ~= clickedToggle then
                    local otherSlider = activeTeleportToggle:FindFirstChild("Frame")
                    if otherSlider then
                        local otherKnob = otherSlider:FindFirstChild("Frame")
                        if otherKnob then
                            TweenService:Create(otherSlider, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(90,90,110)}):Play()
                            TweenService:Create(otherKnob, TweenInfo.new(0.2), {Position = UDim2.new(0,2,0.5,-6)}):Play()
                        end
                    end
                end
                activeTeleportToggle = clickedToggle
                activeIsland = island
                teleportAndFace()
            elseif activeTeleportToggle == clickedToggle then
                activeTeleportToggle = nil
                activeIsland = nil
            end
        end)
    end

    task.wait()
    featuresPage.CanvasSize = UDim2.new(0,0,0,fLayout.AbsoluteContentSize.Y+12)
    teleportPage.CanvasSize = UDim2.new(0,0,0,tLayout.AbsoluteContentSize.Y+12)
    fLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        featuresPage.CanvasSize = UDim2.new(0,0,0,fLayout.AbsoluteContentSize.Y+12)
    end)
    tLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        teleportPage.CanvasSize = UDim2.new(0,0,0,tLayout.AbsoluteContentSize.Y+12)
    end)

    local logoBtn = Instance.new("TextButton", gui)
    logoBtn.Size = UDim2.new(0, 60, 0, 60)
    logoBtn.Position = UDim2.new(0, 12, 0.86, 0)
    logoBtn.BackgroundColor3 = Color3.fromRGB(24,24,34)
    logoBtn.Text = "ðŸ¦‹"
    logoBtn.TextSize = 28
    logoBtn.AutoButtonColor = true
    Instance.new("UICorner",logoBtn).CornerRadius = UDim.new(0, 22)
    logoBtn.Visible = false
    logoBtn.MouseButton1Click:Connect(function()
        mainFrame.Visible = true
    end)
    mainFrame:GetPropertyChangedSignal("Visible"):Connect(function() logoBtn.Visible = not mainFrame.Visible end)

    -- Draggable
    local function makeDraggable(frame)
        local dragging, dragStart, startPos
        frame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                dragStart = input.Position
                startPos = frame.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then dragging = false end
                end)
            end
        end)
        UserInputService.InputChanged:Connect(function(input)
            if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                local delta = input.Position - dragStart
                frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end
        end)
    end
    makeDraggable(mainFrame)
    makeDraggable(logoBtn)
    showPage(infoPage)
end

player.CharacterAdded:Connect(function()
    wait(1.4)
    if toggles.autoFishWasOn then enableAutoFish() end
    if toggles.autoSellWasOn then autoSellRunning = true; autoSellLoop() end
    if toggles.autoClickerWasOn then autoClickerRunning = true; autoClickerLoop() end
    if toggles.fpsBoostWasOn then enableFPSBoost() end
    if activeIsland then teleportAndFace() end
end)

buildUI()
